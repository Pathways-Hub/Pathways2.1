<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Studio Page</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="helements.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="images/favicon.png">
</head>
<body>
  <div class="sidebar">
    <div class="studio-header">
      <img src="images/favicon.png" alt="favicon" class="studio-image">
      <input type="text" placeholder="Studio name" class="studio-input">
      <i class="fa-solid fa-chevron-down dropdown-icon"></i>
      <div class="sidebar-button">
        <i class="fa-solid fa-circle"></i>
      </div>
    </div>

    <!-- Search bar -->
    <div class="sidebar-search">
      <i class="fa-solid fa-magnifying-glass search-icon"></i>
      <input type="text" placeholder="Search" class="search-input">
    </div>

    <!-- Sidebar buttons -->
    <div class="sidebar-menu">
      <div class="sidebar-item dashboard-button">
        <i class="fa-solid fa-table-columns"></i>
        <span>Dashboard</span>
      </div>
      <div class="sidebar-item">
        <i class="fa-solid fa-folder-open"></i>
        <span>Documentation</span>
      </div>
      <a href="landing.html" class="sidebar-link">
        <div class="sidebar-item">
          <i class="fa-solid fa-layer-group"></i>
          <span>Integrations</span>
        </div>
      </a>
    </div>

    <!-- Project dropdown (default open) -->
    <div class="sidebar-dropdown open">
      <div class="dropdown-header">
        <i class="fa-solid fa-folder"></i>
        <span>Project</span>
        <i class="fa-solid fa-chevron-down dropdown-toggle"></i>
      </div>
      <div class="dropdown-items">
        <div class="dropdown-item">Projects</div>
        <div class="dropdown-item">Templates</div>
        <div class="dropdown-item">Community</div>
        <div class="dropdown-item">History</div>
      </div>
    </div>
  </div>

  <!-- Main content -->
  <div class="main-content">
    
    <!-- Dashboard container (hidden by default) -->
    <div class="dashboard-container">
      <h1 class="dashboard-title">Dashboard</h1>
      <div class="dashboard-box">
        <p class="dashboard-subtext">
          There are no workspaces created yet. You can start by creating a new workspace, 
          or explore templates, projects, and community resources to get your ideas flowing.
        </p>
        <a href="workspaces.html" class="dashboard-link">Create one here</a>
      </div>
    </div>

    <!-- Hub container (default visible) -->
    <div class="hub-container">
      <div class="greeting">
        <h1 id="greeting-text"></h1>
        <h1 class="subtitle">what will you create today</h1>
        
        <!-- Subtext -->
        <p class="subtext">Explore templates or start a blank workspace to bring your ideas to life.</p>

        <!-- Curved cards -->
        <div class="cards-container">
          <button class="card">
            <p>Brainstorm template<br></p>
            <i class="fa-solid fa-arrow-right card-icon"></i>
          </button>
          <button class="card">
            <p>To-do list template<br></p>
            <i class="fa-solid fa-arrow-right card-icon"></i>
          </button>
          <button class="card">
            <p>Project plan template<br></p>
            <i class="fa-solid fa-arrow-right card-icon"></i>
          </button>
          <button class="card">
            <p>Dashboard template<br></p>
            <i class="fa-solid fa-arrow-right card-icon"></i>
          </button>
        </div>

        <!-- New input field under the cards -->
        <div class="input-wrapper">
          <input type="text" placeholder="Enter a title here..." class="general-input">
          <button class="send-icon">
            <i class="fa-solid fa-paper-plane"></i>
          </button>
        </div>
        <div class="input-link">
          <a href="workspaces.html">Create a blank workspace without a title</a>
        </div>
      </div>
    </div>

    <!-- Account section -->
    <div class="account-bar">
      <span class="account-name">Toby Nash</span>
    </div>
  </div>

  <!-- Greeting Script -->
  <script>
    function setGreeting() {
      const hour = new Date().getHours();
      updateGreeting(hour);
    }

    function updateGreeting(hour) {
      const greetingEl = document.getElementById("greeting-text");

      if (hour >= 6 && hour < 12) {
        greetingEl.textContent = "Good morning,";
        greetingEl.className = "gradient-morning";
      } else if (hour >= 12 && hour < 18) {
        greetingEl.textContent = "Good afternoon,";
        greetingEl.className = "gradient-afternoon";
      } else if (hour >= 18 && hour < 22) {
        greetingEl.textContent = "Good evening,";
        greetingEl.className = "gradient-evening";
      } else {
        greetingEl.textContent = "Good night,";
        greetingEl.className = "gradient-night";
      } 
    }

    setGreeting();
  </script>

  <!-- Dashboard toggle script with URL parameter -->
  <script>
    const dashboardButton = document.querySelector('.dashboard-button');
    const mainContent = document.querySelector('.main-content');

    // Check URL for view parameter on load
    const params = new URLSearchParams(window.location.search);
    if (params.get("view") === "dashboard") {
      mainContent.classList.add("dashboard-active");
    }

    // Toggle dashboard and update URL when clicked
    dashboardButton.addEventListener('click', () => {
      const isActive = mainContent.classList.toggle('dashboard-active');
      if (isActive) {
        params.set("view", "dashboard");
      } else {
        params.delete("view");
      }
      const newUrl = `${window.location.pathname}?${params.toString()}`;
      window.history.replaceState({}, "", newUrl);
    });
  </script>

</body>
</html>
